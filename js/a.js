!function(){const e=document.querySelectorAll('[class*="track-"]'),o=document.body.getAttribute("id")?.replace("_",""),t=document.body.getAttribute("data-page")?.replace("_","");console.log(o),console.log(e),console.log(window.location);let n=[],i=0;const a=document.documentElement.scrollHeight-window.innerHeight;let c=new Date;function l(e){const a="https://apidopro.atomicat-api.com/lytics/save";e.visitorId=function(){var e;try{var o=localStorage.getItem("atomicat.host");e=JSON.parse(o).uuid}catch(o){e=((t=(new Date).getTime())*Math.random()*1e5).toString(36)+"-"+t+"-"+(t*Math.random()*1e5).toString(36),localStorage.setItem("atomicat.host",JSON.stringify({uuid:e}))}var t;return e}(),e.duration=(new Date-c)/1e3,e.btnClicks=n,e.uid=o,e.pid=t,e.search=window.location.search,e.pathname=window.location.pathname,e.scrolled=isNaN(i)?0:i,o&&t&&(navigator&&navigator.sendBeacon?navigator.sendBeacon(a,JSON.stringify(e)):(e.origin=window.location.hostname,fetch(a,{keepalive:!0,method:"POST",mode:"no-cors",headers:{"content-type":"application/json"},body:JSON.stringify(e)})),n=[])}function s(){const e=window.pageYOffset||document.documentElement.scrollTop;if(a<=0)i=0;else{const o=e/a*100;i=isNaN(o)?0:Math.max(i,o).toFixed(2)}}document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&l({action:"left",listenerType:"visibilitychange"})})),"onpagehide"in window&&(console.log("Yes On onpagehide"),window.addEventListener("pagehide",(()=>{console.log("pagehide!"),l({action:"left",listenerType:"pagehide"})}))),"onbeforeunload"in window&&(console.log("Yes onbeforeunload"),window.addEventListener("beforeunload",(e=>{console.log("I am the 1st one."),l({action:"left",listenerType:"beforeunload"})}))),e.forEach((e=>{console.log("---------------link-------------"),console.log(e),e.addEventListener("click",(o=>function(e,o){e.target;const t=o.classList;let i="";console.log(o),console.log(t);for(let e=0;e<t.length;e++)if(t[e].startsWith("track-")){i=t[e].replace("track-","");break}const a=n.findIndex((e=>e.id==i));console.log(a),-1!==a?n[a].count=n[a].count+1:n.push({id:i,count:1}),console.log(n)}(o,e)))})),window.addEventListener("scroll",s),l({action:"viewed"})}();